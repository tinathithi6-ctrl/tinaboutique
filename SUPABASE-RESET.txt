-- ============================================
-- SUPPRIMER TOUTES LES TABLES (RESET COMPLET)
-- ‚ö†Ô∏è ATTENTION: Ceci supprime TOUTES vos donn√©es!
-- Utilisez seulement si vous voulez recommencer √† z√©ro
-- ============================================

-- D√©sactiver les contraintes de cl√©s √©trang√®res temporairement
SET session_replication_role = 'replica';

-- Supprimer les tables dans l'ordre inverse (√† cause des foreign keys)
DROP TABLE IF EXISTS currency_rate_history CASCADE;
DROP TABLE IF EXISTS admin_notifications CASCADE;
DROP TABLE IF EXISTS user_sessions CASCADE;
DROP TABLE IF EXISTS currency_rates CASCADE;
DROP TABLE IF EXISTS payment_logs CASCADE;
DROP TABLE IF EXISTS activity_logs CASCADE;
DROP TABLE IF EXISTS site_settings CASCADE;
DROP TABLE IF EXISTS order_items CASCADE;
DROP TABLE IF EXISTS orders CASCADE;
DROP TABLE IF EXISTS cart_items CASCADE;
DROP TABLE IF EXISTS products CASCADE;
DROP TABLE IF EXISTS categories CASCADE;
DROP TABLE IF EXISTS users CASCADE;

-- R√©activer les contraintes
SET session_replication_role = 'origin';

-- Message de confirmation
SELECT 'üóëÔ∏è TOUTES LES TABLES ONT √âT√â SUPPRIM√âES!' AS status;
SELECT 'Vous pouvez maintenant lancer SUPABASE-SCHEMA-CORRIGE.txt' AS next_step;
